(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{"0JQy":function(n,t){var r="[\\ud800-\\udfff]",e="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",a="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+e+"|"+o+")"+"?",f="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[a,i,u].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),l="(?:"+[a+e+"?",e,i,u,r].join("|")+")",s=RegExp(o+"(?="+o+")|"+l+f,"g");n.exports=function(n){return n.match(s)||[]}},"2ajD":function(n,t){n.exports=function(n){return n!=n}},"3WF5":function(n,t,r){var e=r("eUgh"),o=r("ut/Y"),a=r("l9OW"),i=r("Z0cm");n.exports=function(n,t){return(i(n)?e:a)(n,o(t,3))}},"5lpv":function(n,t,r){var e,o,a;r("E9XD"),o=[n],void 0===(a="function"==typeof(e=function(n){"use strict";var t=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}return n};function r(n){if(Array.isArray(n)){for(var t=0,r=Array(n.length);t<n.length;t++)r[t]=n[t];return r}return Array.from(n)}var e={order:2,precision:2,period:null};function o(n,t){var r=[],e=[];n.forEach((function(n,o){null!==n[1]&&(e.push(n),r.push(t[o]))}));var o=e.reduce((function(n,t){return n+t[1]}),0)/e.length,a=e.reduce((function(n,t){var r=t[1]-o;return n+r*r}),0);return 1-e.reduce((function(n,t,e){var o=r[e],a=t[1]-o[1];return n+a*a}),0)/a}function a(n,t){var r=Math.pow(10,t);return Math.round(n*r)/r}var i={linear:function(n,t){for(var r=[0,0,0,0,0],e=0,i=0;i<n.length;i++)null!==n[i][1]&&(e++,r[0]+=n[i][0],r[1]+=n[i][1],r[2]+=n[i][0]*n[i][0],r[3]+=n[i][0]*n[i][1],r[4]+=n[i][1]*n[i][1]);var u=e*r[2]-r[0]*r[0],c=e*r[3]-r[0]*r[1],f=0===u?0:a(c/u,t.precision),l=a(r[1]/e-f*r[0]/e,t.precision),s=function(n){return[a(n,t.precision),a(f*n+l,t.precision)]},p=n.map((function(n){return s(n[0])}));return{points:p,predict:s,equation:[f,l],r2:a(o(n,p),t.precision),string:0===l?"y = "+f+"x":"y = "+f+"x + "+l}},exponential:function(n,t){for(var r=[0,0,0,0,0,0],e=0;e<n.length;e++)null!==n[e][1]&&(r[0]+=n[e][0],r[1]+=n[e][1],r[2]+=n[e][0]*n[e][0]*n[e][1],r[3]+=n[e][1]*Math.log(n[e][1]),r[4]+=n[e][0]*n[e][1]*Math.log(n[e][1]),r[5]+=n[e][0]*n[e][1]);var i=r[1]*r[2]-r[5]*r[5],u=Math.exp((r[2]*r[3]-r[5]*r[4])/i),c=(r[1]*r[4]-r[5]*r[3])/i,f=a(u,t.precision),l=a(c,t.precision),s=function(n){return[a(n,t.precision),a(f*Math.exp(l*n),t.precision)]},p=n.map((function(n){return s(n[0])}));return{points:p,predict:s,equation:[f,l],string:"y = "+f+"e^("+l+"x)",r2:a(o(n,p),t.precision)}},logarithmic:function(n,t){for(var r=[0,0,0,0],e=n.length,i=0;i<e;i++)null!==n[i][1]&&(r[0]+=Math.log(n[i][0]),r[1]+=n[i][1]*Math.log(n[i][0]),r[2]+=n[i][1],r[3]+=Math.pow(Math.log(n[i][0]),2));var u=a((e*r[1]-r[2]*r[0])/(e*r[3]-r[0]*r[0]),t.precision),c=a((r[2]-u*r[0])/e,t.precision),f=function(n){return[a(n,t.precision),a(a(c+u*Math.log(n),t.precision),t.precision)]},l=n.map((function(n){return f(n[0])}));return{points:l,predict:f,equation:[c,u],string:"y = "+c+" + "+u+" ln(x)",r2:a(o(n,l),t.precision)}},power:function(n,t){for(var r=[0,0,0,0,0],e=n.length,i=0;i<e;i++)null!==n[i][1]&&(r[0]+=Math.log(n[i][0]),r[1]+=Math.log(n[i][1])*Math.log(n[i][0]),r[2]+=Math.log(n[i][1]),r[3]+=Math.pow(Math.log(n[i][0]),2));var u=(e*r[1]-r[0]*r[2])/(e*r[3]-Math.pow(r[0],2)),c=(r[2]-u*r[0])/e,f=a(Math.exp(c),t.precision),l=a(u,t.precision),s=function(n){return[a(n,t.precision),a(a(f*Math.pow(n,l),t.precision),t.precision)]},p=n.map((function(n){return s(n[0])}));return{points:p,predict:s,equation:[f,l],string:"y = "+f+"x^"+l,r2:a(o(n,p),t.precision)}},polynomial:function(n,t){for(var e=[],i=[],u=0,c=0,f=n.length,l=t.order+1,s=0;s<l;s++){for(var p=0;p<f;p++)null!==n[p][1]&&(u+=Math.pow(n[p][0],s)*n[p][1]);e.push(u),u=0;for(var v=[],h=0;h<l;h++){for(var g=0;g<f;g++)null!==n[g][1]&&(c+=Math.pow(n[g][0],s+h));v.push(c),c=0}i.push(v)}i.push(e);for(var d=function(n,t){for(var r=n,e=n.length-1,o=[t],a=0;a<e;a++){for(var i=a,u=a+1;u<e;u++)Math.abs(r[a][u])>Math.abs(r[a][i])&&(i=u);for(var c=a;c<e+1;c++){var f=r[c][a];r[c][a]=r[c][i],r[c][i]=f}for(var l=a+1;l<e;l++)for(var s=e;s>=a;s--)r[s][l]-=r[s][a]*r[a][l]/r[a][a]}for(var p=e-1;p>=0;p--){for(var v=0,h=p+1;h<e;h++)v+=r[h][p]*o[h];o[p]=(r[e][p]-v)/r[p][p]}return o}(i,l).map((function(n){return a(n,t.precision)})),m=function(n){return[a(n,t.precision),a(d.reduce((function(t,r,e){return t+r*Math.pow(n,e)}),0),t.precision)]},x=n.map((function(n){return m(n[0])})),y="y = ",M=d.length-1;M>=0;M--)y+=M>1?d[M]+"x^"+M+" + ":1===M?d[M]+"x + ":d[M];return{string:y,points:x,predict:m,equation:[].concat(r(d)).reverse(),r2:a(o(n,x),t.precision)}}};n.exports=Object.keys(i).reduce((function(n,r){return t({_round:a},n,(c=function(n,o){return i[r](n,t({},e,o))},(u=r)in(o={})?Object.defineProperty(o,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[u]=c,o));var o,u,c}),{})})?e.apply(t,o):e)||(n.exports=a)},"7joA":function(n,t,r){},CZoQ:function(n,t){n.exports=function(n,t,r){for(var e=r-1,o=n.length;++e<o;)if(n[e]===t)return e;return-1}},Em2t:function(n,t,r){var e=r("bahg"),o=r("quyA"),a=r("0JQy");n.exports=function(n){return o(n)?a(n):e(n)}},FEUI:function(n,t,r){"use strict";t.a={id:"Fitting",icon:"",name:"在线计算拟合曲线函数",desc:"输入多组组(x, y)值，就可以计算出这组数据的多项式拟合函数表达式，并绘制出拟合曲线的样子以及最后的拟合函数方程！",keywords:["拟合","函数","曲线","组组","计算","这组","多项式","表达式","绘制","在线"],time:"2018-09-20",category:"MATH",author:"hustcc"}},HLqC:function(n,t,r){var e=r("R5Y4"),o=r("mv/X"),a=r("ZCgT");n.exports=function(n){return function(t,r,i){return i&&"number"!=typeof i&&o(t,r,i)&&(r=i=void 0),t=a(t),void 0===r?(r=t,t=0):r=a(r),i=void 0===i?t<r?1:-1:a(i),e(t,r,i,n)}}},JC6p:function(n,t,r){var e=r("cq/+"),o=r("7GkX");n.exports=function(n,t){return n&&e(n,t,o)}},JoaM:function(n,t,r){var e=r("NykK"),o=r("ExA7");n.exports=function(n){return o(n)&&"[object RegExp]"==e(n)}},KwMD:function(n,t){n.exports=function(n,t,r,e){for(var o=n.length,a=r+(e?1:-1);e?a--:++a<o;)if(t(n[a],a,n))return a;return-1}},KxBF:function(n,t){n.exports=function(n,t,r){var e=-1,o=n.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(o);++e<o;)a[e]=n[e+t];return a}},LPhD:function(n,t,r){var e=r("R/W3");n.exports=function(n,t){for(var r=n.length;r--&&e(t,n[r],0)>-1;);return r}},"R/W3":function(n,t,r){var e=r("KwMD"),o=r("2ajD"),a=r("CZoQ");n.exports=function(n,t,r){return t==t?a(n,t,r):e(n,o,r)}},R5Y4:function(n,t){var r=Math.ceil,e=Math.max;n.exports=function(n,t,o,a){for(var i=-1,u=e(r((t-n)/(o||1)),0),c=Array(u);u--;)c[a?u:++i]=n,n+=o;return c}},SKAX:function(n,t,r){var e=r("JC6p"),o=r("lQqw")(e);n.exports=o},TO8r:function(n,t){var r=/\s/;n.exports=function(n){for(var t=n.length;t--&&r.test(n.charAt(t)););return t}},WjpJ:function(n,t,r){var e=r("HLqC")();n.exports=e},ZCgT:function(n,t,r){var e=r("tLB3");n.exports=function(n){return n?(n=e(n))===1/0||n===-1/0?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0}},ZiUS:function(n,t,r){var e=r("zoYe"),o=r("wy8a"),a=r("quyA"),i=r("mv/X"),u=r("wAXd"),c=r("Em2t"),f=r("dt0z");n.exports=function(n,t,r){return r&&"number"!=typeof r&&i(n,t,r)&&(t=r=void 0),(r=void 0===r?4294967295:r>>>0)?(n=f(n))&&("string"==typeof t||null!=t&&!u(t))&&!(t=e(t))&&a(n)?o(c(n),0,r):n.split(t,r):[]}},Zsd2:function(n,t,r){var e=r("zoYe"),o=r("jXQH"),a=r("wy8a"),i=r("LPhD"),u=r("t4mE"),c=r("Em2t"),f=r("dt0z");n.exports=function(n,t,r){if((n=f(n))&&(r||void 0===t))return o(n);if(!n||!(t=e(t)))return n;var l=c(n),s=c(t),p=u(l,s),v=i(l,s)+1;return a(l,p,v).join("")}},bahg:function(n,t){n.exports=function(n){return n.split("")}},"cq/+":function(n,t,r){var e=r("mc0g")();n.exports=e},jXQH:function(n,t,r){var e=r("TO8r"),o=/^\s+/;n.exports=function(n){return n?n.slice(0,e(n)+1).replace(o,""):n}},l9OW:function(n,t,r){var e=r("SKAX"),o=r("MMmD");n.exports=function(n,t){var r=-1,a=o(n)?Array(n.length):[];return e(n,(function(n,e,o){a[++r]=t(n,e,o)})),a}},lQqw:function(n,t,r){var e=r("MMmD");n.exports=function(n,t){return function(r,o){if(null==r)return r;if(!e(r))return n(r,o);for(var a=r.length,i=t?a:-1,u=Object(r);(t?i--:++i<a)&&!1!==o(u[i],i,u););return r}}},mc0g:function(n,t){n.exports=function(n){return function(t,r,e){for(var o=-1,a=Object(t),i=e(t),u=i.length;u--;){var c=i[n?u:++o];if(!1===r(a[c],c,a))break}return t}}},"mv/X":function(n,t,r){var e=r("ljhN"),o=r("MMmD"),a=r("wJg7"),i=r("GoyQ");n.exports=function(n,t,r){if(!i(r))return!1;var u=typeof t;return!!("number"==u?o(r)&&a(t,r.length):"string"==u&&t in r)&&e(r[t],n)}},quyA:function(n,t){var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");n.exports=function(n){return r.test(n)}},t4mE:function(n,t,r){var e=r("R/W3");n.exports=function(n,t){for(var r=-1,o=n.length;++r<o&&e(t,n[r],0)>-1;);return r}},tLB3:function(n,t,r){var e=r("jXQH"),o=r("GoyQ"),a=r("/9aa"),i=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;n.exports=function(n){if("number"==typeof n)return n;if(a(n))return NaN;if(o(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=o(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=e(n);var r=u.test(n);return r||c.test(n)?f(n.slice(2),r?2:8):i.test(n)?NaN:+n}},wAXd:function(n,t,r){var e=r("JoaM"),o=r("sEf8"),a=r("mdPL"),i=a&&a.isRegExp,u=i?o(i):e;n.exports=u},wy8a:function(n,t,r){var e=r("KxBF");n.exports=function(n,t,r){var o=n.length;return r=void 0===r?o:r,!t&&r>=o?n:e(n,t,r)}},ytY3:function(n,t,r){"use strict";r.r(t);var e=r("aArQ"),o=r("FEUI"),a=r("KQm4"),i=r("dI71"),u=r("zZ0H"),c=r.n(u),f=r("WjpJ"),l=r.n(f),s=r("mwIZ"),p=r.n(s),v=r("Zsd2"),h=r.n(v),g=r("3WF5"),d=r.n(g),m=r("ZiUS"),x=r.n(m),y=r("q1tI"),M=r.n(y),w=r("5rEg"),E=r("Vl3Y"),b=r("fyUT"),j=r("2/Rp"),A=r("+KLJ"),O=r("5lpv"),C=r.n(O),D=r("ProS"),S=r.n(D),q=(r("75ce"),r("AH3D"),r("t3Fx")),X=r.n(q),Q=(r("7joA"),w.a.TextArea),J=E.a.Item,R=function(n){function t(t){var r;return(r=n.call(this,t)||this).parseData=function(){var n=r.state.data;return x()(n,"\n").map((function(n){var t=x()(n,",");return d()(t,(function(n){return Number(h()(n))}))}))},r.calculate=function(){var n=r.state,t={order:n.order,precision:n.precision},e=r.parseData(),o=C.a.linear(e,t),a=C.a.polynomial(e,t),i=C.a.exponential(e,t),u=C.a.logarithmic(e,t),c=C.a.power(e,t);r.setState({result:{linear:o,polynomial:a,exponential:i,logarithmic:u,power:c}})},r.inputChange=function(n){r.setState({data:n.target.value})},r.onOrderChange=function(n){r.setState({order:n})},r.onPrecisionChange=function(n){r.setState({precision:n})},r.getRegression=function(){var n=r.state.result;return M.a.createElement("div",null,M.a.createElement("div",null,"线性：",p()(n,"linear.string",""),"，拟合度：",p()(n,"linear.r2","")),M.a.createElement("div",null,"多项式：",p()(n,"polynomial.string",""),"，拟合度：",p()(n,"polynomial.r2","")),M.a.createElement("div",null,"指数：",p()(n,"exponential.string",""),"，拟合度：",p()(n,"exponential.r2","")),M.a.createElement("div",null,"对数：",p()(n,"logarithmic.string",""),"，拟合度：",p()(n,"logarithmic.r2","")),M.a.createElement("div",null,"power：",p()(n,"power.string",""),"，拟合度：",p()(n,"power.r2","")))},r.getSeriesData=function(n,t){return d()(t,(function(t){return n(t)}))},r.getX=function(){var n=r.parseData(),t=d()(n,(function(n){return n[0]})),e=Math.min.apply(Math,Object(a.a)(t)),o=Math.max.apply(Math,Object(a.a)(t)),i=(o-e)/100;return[e-i].concat(Object(a.a)(l()(e,o,i)),[o+i])},r.getSeries=function(n,t,e){return{name:n,type:"line",smooth:!0,data:r.getSeriesData(t,e)}},r.getOption=function(){var n=r.getX(),t=r.state.result.result;return{legend:{data:["线性拟合","多项式拟合","指数拟合","对数拟合","Power 拟合"]},xAxis:{type:"value",data:n},yAxis:{type:"value"},tooltip:{trigger:"axis"},series:[r.getSeries("线性拟合",p()(t,"linear.predict",c.a),n),r.getSeries("多项式拟合",p()(t,"polynomial.predict",c.a),n),r.getSeries("指数拟合",p()(t,"exponential.predict",c.a),n),r.getSeries("对数拟合",p()(t,"logarithmic.predict",c.a),n),r.getSeries("Power 拟合",p()(t,"power.predict",c.a),n)]}},r.state={data:"0, 1\n32, 67\n12, 79",result:{linear:{},polynomial:{},exponential:{},logarithmic:{},power:{}},order:3,precision:10},r}Object(i.a)(t,n);var r=t.prototype;return r.componentDidMount=function(){this.calculate()},r.render=function(){var n=this.state,t=n.data,r=n.order,e=n.precision;return M.a.createElement("div",{className:"atool-fitting"},M.a.createElement(E.a,null,M.a.createElement(J,null,M.a.createElement(Q,{placeholder:"输入 x, y 数据点，每行一对数据！",value:t,onChange:this.inputChange})),M.a.createElement(J,null,M.a.createElement("span",{className:"label"},"多项式阶数"),M.a.createElement(b.a,{placeholder:"多项式阶数",value:r,onChange:this.onOrderChange}),M.a.createElement("span",{className:"label"},"小数精度"),M.a.createElement(b.a,{placeholder:"小数精度",value:e,onChange:this.onPrecisionChange}),M.a.createElement(j.a,{type:"primary",onClick:this.calculate},"计算")),M.a.createElement(J,null,M.a.createElement(A.a,{className:"all-regression",description:this.getRegression(),type:"success"})),M.a.createElement(J,null,M.a.createElement(X.a,{echarts:S.a,option:this.getOption(),style:{height:300}}))))},t}(y.PureComponent);t.default=Object(e.a)(R,o.a)}}]);
//# sourceMappingURL=component---src-pages-fitting-js-4ec663cc433497baa4fb.js.map